!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueDatasourceComponent=e():t.VueDatasourceComponent=e()}(this,function(){return function(t){function e(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var a={};return e.m=t,e.c=a,e.p="/dist/",e(0)}([function(t,e,a){"use strict";t.exports=a(5)},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),i=n(s),r=a(3),l=n(r),o=a(6),c=n(o);e.default={components:{Pagination:c.default},props:{tableData:{type:Array,required:!0},language:{type:String,default:"es"},columns:{type:Array,required:!0},pagination:{type:Object,default:function(){return{total:0,to:0,from:0,per_page:15}}},actions:{type:Array,default:function(){return[]}}},data:function(){return{limits:[1,5,10,15,20],perpage:15,selected:null,indexSelected:-1,search:""}},computed:{translation:function(){return l.default.translations[this.language]},tableInfo:i.default.tableInfo},methods:{fetchFromObject:i.default.fetchFromObject,changePage:i.default.changePage,selectRow:i.default.selectRow,searching:function(){this.selected=null,this.indexSelected=-1,this.$emit("searching",this.search)}},watch:{perpage:function(){this.selected=null,this.indexSelected=-1,this.$emit("change",{perpage:this.perpage,page:1})},tableData:function(){this.selected=null,this.indexSelected=-1}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["pages","translation"],computed:{items:function(){var t=[],e=this.pages.current_page-2,a=this.pages.current_page+2,n=5;e<=0&&(e=1,a=5),a>=this.pages.last_page&&(e=this.pages.last_page-4,a=this.pages.last_page),this.pages.last_page<5&&(n=this.pages.last_page),e<=0&&(e=1),0!=this.pages.last_page&&1!=this.pages.last_page||(n=1);for(var s=0;s<n;s++)t[s]=s+e;return t}},methods:{firstPage:function(){1!=this.pages.current_page&&this.change(1)},previous:function(){1!=this.pages.current_page&&this.change(--this.pages.current_page)},change:function(t){this.$emit("change",t)},next:function(){this.pages.current_page!=this.pages.last_page&&this.change(++this.pages.current_page)},lastPage:function(t){this.pages.current_page!=this.pages.last_page&&this.change(t)},changePageWithKeyBoard:function(t){"ArrowLeft"===t?this.previous():"ArrowRight"===t&&this.next()}},created:function(){var t=this;window.addEventListener("keyup",function(e){var a=e.key;return t.changePageWithKeyBoard(a)})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={translations:{en:{table:{label_limits:"Show",label_search:"Search",placeholder_search:"Type to search..",records_not_found:"No records found"},pagination:{label_show:"Showing",label_to:"to",label_of:"of",label_entries:"entries",btn_first:"First",btn_last:"Latest"}},es:{table:{label_limits:"Mostrar",label_search:"Buscar",placeholder_search:"Buscar ..",records_not_found:"No se encontraron registros."},pagination:{label_show:"Mostrando",label_to:"a",label_of:"de",label_entries:"registros",btn_first:"Primero",btn_last:"Último"}},fr:{table:{label_limits:"Afficher",label_search:"Recherche",placeholder_search:"Recherche par mot-clé..",records_not_found:"Aucun enregistrements trouvés"},pagination:{label_show:"Affichage de",label_to:"à",label_of:"de",label_entries:"entrées",btn_first:"Première",btn_last:"Dernière"}}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fetchFromObject:function(t,e,a){if("undefined"==typeof t)return!1;var n=e.indexOf(".");return n>-1?this.fetchFromObject(t[e.substring(0,n)],e.substr(n+1)):"undefined"!=typeof a?a(t[e]):t[e]},changePage:function(t){this.selected=null,this.indexSelected=-1,this.$emit("change",{perpage:this.perpage,page:t})},selectRow:function(t,e){this.indexSelected==e?(this.indexSelected=-1,this.selected=null):(this.indexSelected=e,this.selected={row:t,index:e})},tableInfo:function(){var t=this.translation.pagination.label_show,e=null==this.pagination.from?0:this.pagination.from,a=this.translation.pagination.label_to,n=null==this.pagination.to?0:this.pagination.to,s=this.translation.pagination.label_of,i=this.pagination.total,r=this.translation.pagination.label_entries;return t+" "+e+" "+a+" "+n+" "+s+" "+i+" "+r}}},function(t,e,a){var n,s;n=a(1);var i=a(8);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=n},function(t,e,a){var n,s;n=a(2);var i=a(7);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=n},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"pagination is-right",attrs:{"aria-label":"Page pagination"}},[a("ul",{staticClass:"pagination-list"},[a("li",[a("a",{staticClass:"pagination-link",attrs:{href:"#",disabled:1==t.pages.current_page},on:{click:function(e){e.preventDefault(),t.firstPage(e)}}},[t._v("\n        "+t._s(t.translation.btn_first)+"\n      ")])]),t._v(" "),a("li",[a("a",{staticClass:"pagination-link",attrs:{href:"#",disabled:1==t.pages.current_page,"aria-label":"Previous"},on:{click:function(e){e.preventDefault(),t.previous(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.items,function(e){return a("li",[a("a",{staticClass:"pagination-link",class:t.pages.current_page==e?"is-current":"",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.change(e)}}},[t._v(t._s(e))])])}),t._v(" "),a("li",[a("a",{staticClass:"pagination-link",attrs:{href:"#",disabled:t.pages.current_page===t.pages.last_page,"aria-label":"Next"},on:{click:function(e){e.preventDefault(),t.next(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]),t._v(" "),a("li",[a("a",{staticClass:"pagination-link",attrs:{href:"#",disabled:t.pages.current_page===t.pages.last_page},on:{click:function(e){e.preventDefault(),t.lastPage(t.pages.last_page)}}},[t._v("\n        "+t._s(t.translation.btn_last)+"\n      ")])])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-datasource"},[a("div",{staticClass:"box"},[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("p",{staticClass:"subtitle is-5"},[a("strong",[t._v(t._s(t.translation.table.label_limits))])])]),t._v(" "),a("div",{staticClass:"level-item"},[a("p",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.perpage,expression:"perpage"}],attrs:{number:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.perpage=e.target.multiple?a:a[0]}}},t._l(t.limits,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))])])]),t._v(" "),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:t.translation.table.placeholder_search},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.searching(e)}}},[t._v(t._s(t.translation.table.label_search)+"\n              ")])])])])])]),t._v(" "),a("table",{staticClass:"table is-striped Vue__table"},[a("thead",[a("tr",t._l(t.columns,function(e){return a("th",[t._v(t._s(e.name))])}))]),t._v(" "),a("tbody",[0==t.pagination.total?a("tr",[a("td",{attrs:{colspan:t.columns.length}},[t._v(t._s(t.translation.table.records_not_found))])]):t._l(t.tableData,function(e,n){return a("tr",{class:{success:n==t.indexSelected},on:{click:function(a){a.preventDefault(),t.selectRow(e,n)}}},t._l(t.columns,function(n){return a("td",[t._v("\n          "+t._s(t.fetchFromObject(e,n.key,n.render))+"\n        ")])}))}),t._v(" "),a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:t.columns.length}},[t._v("\n          "+t._s(t.tableInfo)+"\n        ")])])],2)]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"field has-addons"},t._l(t.actions,function(e){return a("p",{staticClass:"control"},[a("a",{staticClass:"button",class:e.class,on:{click:function(a){e.event(a,t.selected)}}},[e.icon?a("span",{staticClass:"icon is-small"},[a("i",{class:e.icon})]):t._e(),t._v(" "),a("span",[t._v(t._s(e.text))])])])}))])]),t._v(" "),a("div",{staticClass:"level-right"},[a("p",{staticClass:"level-item"},[a("pagination",{attrs:{pages:t.pagination,translation:t.translation.pagination},on:{change:t.changePage}})],1)])])])])},staticRenderFns:[]}}])});
//# sourceMappingURL=vue-datasource.min.js.map